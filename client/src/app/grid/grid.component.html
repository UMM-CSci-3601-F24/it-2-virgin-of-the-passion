<div>
  <!-- Save Grid button -->
  <button data-test="saveGridButton" (click)="saveGrid()">Save Grid</button>
  <div>
    <h3>Saved Grids</h3>
    <ul>
      <li *ngFor="let grid of savedGrids" (click)="loadGrid(grid)">
        {{ grid._id }}
      </li>
    </ul>
  </div>
</div>
<div>

<p>Hight</p>
<input matInput
  [(ngModel)]="h"
  type="number"
  (input)="onSizeInput()"
  placeholder="{{h}}">
<p>Width</p>
<input matInput
  [(ngModel)]="w"
  type="number"
  (input)="onSizeInput()"
  placeholder="{{w}}">

  <div [ngStyle]="{'height': (h * s) + 'px', 'width': (w * s) + 'px'}"  >
    <mat-grid-list cols="{{w}}" rowHeight="1:1" gutterSize="0">
      @for (row of grid; track row; let rowIndex = $index) {
        @for (cell of row; track cell; ; let colIndex = $index) {
          <mat-grid-tile Rowspan="1" Colspan="1" >
            <app-grid-cell
            tabindex= "0"
            [gridCell]= "grid[colIndex][rowIndex]"
            (keydown)= "onKeydown($event, currentCol, currentRow)"
            (click)="onClick($event, colIndex, rowIndex)"
            [attr.col]="colIndex"
            [attr.row]="rowIndex"
            [col]="colIndex"
            [row]="rowIndex"
            [grid]="grid"
            [ngStyle]="{'height': s + 'px', 'width': s + 'px'}"
            ></app-grid-cell>
          </mat-grid-tile>
        }
      }
    </mat-grid-list>
  </div>
  <input matInput
  [(ngModel)]="s"
  type="number"
  placeholder="{{s}}">

<button mat-button (click)="cycleTypingDirection()">Cycle Typing Direction</button>
<p>Current Typing Direction is {{typeDirection}}</p>
